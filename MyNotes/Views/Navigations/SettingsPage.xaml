<?xml version="1.0" encoding="utf-8"?>
<Page x:Class="MyNotes.Views.Navigations.SettingsPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:MyNotes.Views.Navigations"
      xmlns:ui="using:CommunityToolkit.WinUI"
      xmlns:controls="using:CommunityToolkit.WinUI.Controls">

  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="64" />
      <RowDefinition />
    </Grid.RowDefinitions>

    <Border Grid.Row="0"
            Padding="24,12">
      <TextBlock x:Name="SettingsPage_TitleTextBlock"
                 x:Uid="SettingsPage_TitleTextBlock"
                 Text="Settings"
                 VerticalAlignment="Center"
                 Style="{StaticResource TitleTextBlockStyle}" />
    </Border>

    <ScrollViewer x:Name="SettingsPage_ScrollViewer"
                  Grid.Row="1"
                  Padding="24,12,24,0">
      <StackPanel Margin="0,0,0,24"
                  Spacing="12">
        <!--#region Appearence -->
        <StackPanel Spacing="4">
          <TextBlock x:Uid="SettingsPage_Appearence_SubTitleTextBlock"
                     Padding="4"
                     Style="{StaticResource BaseTextBlockStyle}" />

          <!-- App Theme -->
          <controls:SettingsCard x:Uid="SettingsPage_Appearence_ThemeSettingsCard"
                                 HeaderIcon="{ui:FontIcon Glyph=&#xE790;}">
            <ComboBox SelectedIndex="0">
              <ComboBoxItem x:Uid="SettingsPage_Appearence_DefaultThemeComboBoxItem"
                            Tag="Default" />
              <ComboBoxItem x:Uid="SettingsPage_Appearence_LightThemeComboBoxItem"
                            Tag="Light" />
              <ComboBoxItem x:Uid="SettingsPage_Appearence_DarkThemeComboBoxItem"
                            Tag="Dark" />
            </ComboBox>
          </controls:SettingsCard>

          <!-- Language -->
          <StackPanel>
            <controls:SettingsCard x:Name="SettingsPage_Appearence_LanguageSettingsCard"
                                   x:Uid="SettingsPage_Appearence_LanguageSettingsCard"
                                   HeaderIcon="{ui:FontIcon Glyph=&#xF2B7;}">
              <ComboBox SelectedIndex="0">
                <ComboBoxItem x:Uid="SettingsPage_Appearence_DefaultLanguageComboBoxItem"
                              Tag="default" />
                <ComboBoxItem x:Uid="SettingsPage_Appearence_EnglishLanguageComboBoxItem"
                              Tag="en-US" />
                <ComboBoxItem x:Uid="SettingsPage_Appearence_KoreanLanguageComboBoxItem"
                              Tag="ko-KR" />
              </ComboBox>
            </controls:SettingsCard>
            <InfoBar x:Name="SettingsPage_Appearence_LanguageInfoBar"
                     x:Uid="SettingsPage_Appearence_LanguageInfoBar"
                     IsOpen="True"
                     Severity="Warning"
                     IsClosable="False"
                     Visibility="Visible"
                     CornerRadius="0,0,4,4"
                     BorderThickness="1,0,1,1"
                     Canvas.ZIndex="-1">
              <InfoBar.ActionButton>
                <Button x:Name="SettingsPage_Appearence_RelaunchButton"
                        x:Uid="SettingsPage_Appearence_RelaunchButton"
                        HorizontalAlignment="Right" />
              </InfoBar.ActionButton>

              <InfoBar.RenderTransform>
                <TranslateTransform x:Name="SettingsPage_Appearence_LanguageInfoBar_TranslateTransform" />
              </InfoBar.RenderTransform>
            </InfoBar>
          </StackPanel>
        </StackPanel>
        <!--#endregion-->

        <!--#region General -->
        <StackPanel Spacing="4">
          <TextBlock x:Uid="SettingsPage_General_SubTitleTextBlock"
                     Padding="4"
                     Style="{ThemeResource BaseTextBlockStyle}" />

          <!-- Startup -->
          <StackPanel>
            <controls:SettingsCard x:Name="SettingsPage_General_StartupSettingsCard"
                                   x:Uid="SettingsPage_General_StartupSettingsCard"
                                   HeaderIcon="{ui:FontIcon Glyph=&#xE7C4;}">
              <ToggleSwitch x:Name="SettingsPage_General_StartupToggleSwitch" />
            </controls:SettingsCard>
            <InfoBar x:Name="SettingsPage_General_StartupInfoBar"
                     x:Uid="SettingsPage_General_StartupInfoBar"
                     IsOpen="True"
                     Severity="Warning"
                     IsClosable="False"
                     Visibility="Visible"
                     CornerRadius="0,0,4,4"
                     BorderThickness="1,0,1,1"
                     Canvas.ZIndex="-1">
              <InfoBar.ActionButton>
                <Button x:Name="SettingsPage_General_AppStartupButton"
                        x:Uid="SettingsPage_General_AppStartupButton"
                        HorizontalAlignment="Right" />
              </InfoBar.ActionButton>

              <InfoBar.RenderTransform>
                <TranslateTransform x:Name="SettingsPage_General_StartupInfoBar_TranslateTransform" />
              </InfoBar.RenderTransform>
            </InfoBar>
          </StackPanel>
        </StackPanel>
        <!--#endregion-->

        <!--#region Note -->
        <StackPanel Spacing="4">
          <TextBlock x:Uid="SettingsPage_Note_SubTitleTextBlock"
                     Padding="4"
                     Style="{ThemeResource BaseTextBlockStyle}" />
          <!-- Default Note Background -->
          <controls:SettingsCard x:Uid="SettingsPage_Note_BackgroundSettingsCard"
                                 HeaderIcon="{ui:FontIcon Glyph=&#xE790;}">
            <SplitButton>
              <Border Width="24"
                      Height="24"
                      CornerRadius="{ThemeResource ControlCornerRadius}" />
              <SplitButton.Flyout>
                <Flyout Placement="Bottom"
                        ShouldConstrainToRootBounds="False">
                  <StackPanel>
                    <ColorPicker IsAlphaEnabled="True"
                                 IsMoreButtonVisible="True" />
                  </StackPanel>
                </Flyout>
              </SplitButton.Flyout>
            </SplitButton>
          </controls:SettingsCard>

          <!-- Default Note Backdrop -->
          <controls:SettingsCard x:Uid="SettingsPage_Note_BackdropSettingsCard"
                                 HeaderIcon="{ui:FontIcon Glyph=&#xF4A5;}">
            <ComboBox SelectedIndex="0">
              <ComboBoxItem x:Uid="SettingsPage_Note_BackdropNoneComboBoxItem" />
              <ComboBoxItem x:Uid="SettingsPage_Note_BackdropAcrylicComboBoxItem" />
              <ComboBoxItem x:Uid="SettingsPage_Note_BackdropMicaComboBoxItem" />
            </ComboBox>
          </controls:SettingsCard>

          <!-- Default Note Size -->
          <controls:SettingsExpander x:Uid="SettingsPage_Note_SizeSettingsExpander"
                                     HeaderIcon="{ui:FontIcon Glyph=&#xE9A6;}">
            <TextBlock Text="300 × 200"
                       Foreground="{ThemeResource TextFillColorSecondary}"/>
            <controls:SettingsExpander.Items>
              <controls:SettingsCard x:Uid="SettingsPage_Note_WidthSettingsCard"
                                     HeaderIcon="{ui:FontIcon Glyph=&#xE76F;}">
                <NumberBox SpinButtonPlacementMode="Inline"
                           Value="300"
                           Minimum="300"
                           Maximum="1000"
                           SmallChange="10"
                           Width="160"/>
              </controls:SettingsCard>
              <controls:SettingsCard x:Uid="SettingsPage_Note_HeightSettingsCard"
                                     HeaderIcon="{ui:FontIcon Glyph=&#xE784;}">
                <NumberBox SpinButtonPlacementMode="Inline"
                           Value="200"
                           Minimum="200"
                           Maximum="1000"
                           SmallChange="10"
                           Width="160" />
              </controls:SettingsCard>
            </controls:SettingsExpander.Items>
          </controls:SettingsExpander>
        </StackPanel>
        <!--#endregion-->

        <!--#region List -->
        <StackPanel Spacing="4">
          <TextBlock x:Uid="SettingsPage_List_SubTitleTextBlock"
                     Padding="4"
                     Style="{ThemeResource BaseTextBlockStyle}" />

          <!-- Bool SettingsCard -->
          <controls:SettingsCard x:Uid="SettingsPage_List_NoteCountSettingsCard"
                                 HeaderIcon="{ui:FontIcon Glyph=&#xE7B3;}">
            <ToggleSwitch IsOn="True" />
          </controls:SettingsCard>
        </StackPanel>
        <!--#endregion -->

        <!--#region About -->
        <StackPanel Spacing="4">
          <TextBlock x:Uid="SettingsPage_About_SubTitleTextBlock"
                     Padding="4"
                     Style="{ThemeResource BaseTextBlockStyle}" />
          <controls:SettingsExpander Header="MyNotes"
                                     HeaderIcon="{ui:BitmapIcon Source=ms-appx:///Assets/AppIcon.ico, ShowAsMonochrome=False}"
                                     Description="© 2024. All rights reserved.">
            <TextBlock Text="v1.0.0" />
            <controls:SettingsExpander.Items>
              <controls:SettingsCard Header="About" />
            </controls:SettingsExpander.Items>
          </controls:SettingsExpander>
        </StackPanel>
        <!--#endregion-->

      </StackPanel>
    </ScrollViewer>

    <VisualStateManager.VisualStateGroups>
      <VisualStateGroup>
        <VisualState x:Name="SettingsPage_LanguageSettingsNormalState" />
        <VisualState x:Name="SettingsPage_LanguageSettingsWarningState">
          <VisualState.Setters>
            <Setter Target="SettingsPage_Appearence_LanguageSettingsCard.CornerRadius"
                    Value="4,4,0,0" />
            <Setter Target="SettingsPage_Appearence_LanguageInfoBar.Visibility"
                    Value="Visible" />
          </VisualState.Setters>
          <Storyboard>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SettingsPage_Appearence_LanguageInfoBar"
                                           Storyboard.TargetProperty="Opacity">
              <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                      Value="0" />
              <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                    KeySpline="0.30,0.30 0,0.95"
                                    Value="1" />
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SettingsPage_Appearence_LanguageInfoBar_TranslateTransform"
                                           Storyboard.TargetProperty="Y">
              <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                      Value="-32" />
              <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                    KeySpline="0.30,0.30 0,0.95"
                                    Value="0" />
            </DoubleAnimationUsingKeyFrames>
          </Storyboard>
        </VisualState>
      </VisualStateGroup>

      <VisualStateGroup>
        <VisualState x:Name="SettingsPage_StartupSettingsNormalState" />
        <VisualState x:Name="SettingsPage_StartupSettingsWarningState">
          <VisualState.Setters>
            <Setter Target="SettingsPage_General_StartupSettingsCard.CornerRadius"
                    Value="4,4,0,0" />
            <Setter Target="SettingsPage_General_StartupInfoBar.Visibility"
                    Value="Visible" />
          </VisualState.Setters>
          <Storyboard>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SettingsPage_General_StartupInfoBar"
                                           Storyboard.TargetProperty="Opacity">
              <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                      Value="0" />
              <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                    KeySpline="0.30,0.30 0,0.95"
                                    Value="1" />
            </DoubleAnimationUsingKeyFrames>
            <DoubleAnimationUsingKeyFrames Storyboard.TargetName="SettingsPage_General_StartupInfoBar_TranslateTransform"
                                           Storyboard.TargetProperty="Y">
              <DiscreteDoubleKeyFrame KeyTime="0:0:0"
                                      Value="-32" />
              <SplineDoubleKeyFrame KeyTime="0:0:0.167"
                                    KeySpline="0.30,0.30 0,0.95"
                                    Value="0" />
            </DoubleAnimationUsingKeyFrames>
          </Storyboard>
        </VisualState>
      </VisualStateGroup>
    </VisualStateManager.VisualStateGroups>
  </Grid>
</Page>
